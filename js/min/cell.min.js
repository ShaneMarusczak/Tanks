class Cell{constructor(b,a,c){this.x=b;this.y=a;this.neighbors=[];this.end_cell=this.start_cell=this.path=this.wall=!1;this.distance=0;this.visited=!1;this.session=c}setNeighbors(){const b=[-1,0,1];for(let a of b)for(let c of b)if(validPosition(this.x+a,this.y+c,this.session.gameBoard.cols,this.session.gameBoard.rows)){if(0===a&&0===c)continue;let d=getCellConnectionDirection(a,c);0===a||0===c?this.neighbors.push(build_neighbor(this.x+a,this.y+c,1,d)):this.neighbors.push(build_neighbor(this.x+a,this.y+
c,Math.sqrt(2),d))}}getLowestDistanceNeighbor(){let b=Infinity,a=null;for(let c of this.neighbors){let d=this.session.gameBoard.getCell(c.x,c.y);d.distance<b&&d.visited&&!d.wall&&(b=d.distance,a=d)}return a}getLowestCrowFly(b){let a=Infinity,c=null,d=null;for(let e of this.neighbors){let f=this.session.gameBoard.getCell(e.x,e.y);b.getCrowFlyDistance(b)<a&&!b.searched&&!b.wall&&(a=b.d,c=f,d=e.connection_cost)}c.searched=!0;return[c,d]}getCrowFlyDistance(b){return Math.sqrt(b.x-this.x^2+(b.y-this.y)^
2)}handleClick(b){if(!this.session.settingStart||this.session.hasStarted||this.session.settingWalls||0!==b.button)if(!this.session.settingEnd||this.session.hasStarted||this.session.settingWalls||0!==b.button)this.session.settingEnd||this.session.settingStart||!this.session.settingWalls||this.session.hasStarted||2!==b.button||(this.wall=!1,getCellElem(this.x,this.y).classList.remove("wall"));else for(this.session.endCell=this,this.end_cell=!0,getCellElem(this.x,this.y).classList.add("end"),this.session.settingEnd=
!1,this.session.endSet=!0,document.getElementById("endMessage").classList.add("hidden"),document.getElementById("wallMessage").classList.remove("hidden"),this.session.settingWalls=!0,b=0;b<this.session.gameBoard.cols;b++)for(let a=0;a<this.session.gameBoard.rows;a++)getCellElem(b,a).addEventListener("mouseover",c=>onMouseOver(c,this));else this.start_cell=!0,getCellElem(this.x,this.y).classList.add("start"),this.session.startCell=this,this.session.settingStart=!1,this.session.settingEnd=!0,this.session.startSet=
!0,document.getElementById("startMessage").classList.add("hidden"),document.getElementById("endMessage").classList.remove("hidden")}}function onMouseOver(b,a){clearSelection();if(a.session.leftMouseButtonOnlyDown&&!a.session.hasStarted&&a.session.settingWalls){let [c,d]=getXYFromCell(b.target);a=a.session.gameBoard.getCell(c,d);a.start_cell||a.end_cell||a.wall||(a.wall=!0,b.target.classList.add("wall"))}};
